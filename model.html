<!doctype html>
<html lang="en" class="fixed" style='overflow: hidden'>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>三门核电有限公司三门数字化仿真检修平台</title>
    <link rel="stylesheet" type="text/css" href="stylesheets/css/bootstrap-3.3.4.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/css/font-awesome.min.css">
    <link rel="stylesheet" href="stylesheets/css/vendor/animate.css/animate.css">
    <link rel="stylesheet" href="stylesheets/css/vendor/toastr/toastr.min.css">
    <link rel="stylesheet" href="stylesheets/css/vendor/magnific-popup/magnific-popup.css">
    <link rel="stylesheet" href="stylesheets/css/vendor/data-table/media/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="stylesheets/css/subject.css">
    <link rel="stylesheet" href="stylesheets/css/course.css">
</head>
<!--[if lt IE 8]>
<script type="text/javascript" src="javascripts/html5.js"></script>
<script type="text/javascript" src="javascripts/respond.js"></script>
<![endif]-->

<body onselectstart="return false">
<!--点击显示大的图片-->
<div class="big_da">
    <span class="click_close">X</span>
    <img style="width: 50%;"
         src="http://pic.qiantucdn.com/58pic/16/40/37/22X58PICtFy.jpg!/fw/300/clip/0x400a0a0/format/webp" alt="">
</div>
<!--记载过程中的loading-->
<div class="text-center">
<span class='text-center shuju-tishi shuju-tishi1' style='color:white;display: none;'>
</span>
    <span class='text-center shuju-tishi shuju-tishi2' style='background-color:red;color:white;display: none;'>
</span>
</div>
<!--模态框-->
<div class="modal fade " id="error-modal55" tabindex="-1" role="dialog" aria-labelledby="modal-error-label"
     style="display: none; padding-right: 17px;">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header state modal-danger">
                <h4 class="modal-title"><i class="fa fa-warning"></i>删除信息</h4>
            </div>
            <div class="modal-body">
                请您考虑清楚!确认删除此条用户信息!删除不可恢复!!!
            </div>
            <div class="modal-footer">
                <!--确认删除-->
                <button type="button" class="btn btn-danger" id="remove55" data-dismiss="modal">确认删除</button>
                <button type="button" class="btn btn-default" data-dismiss="modal" id="remove555">取消删除</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="sm-modal" tabindex="-1" role="dialog"
     aria-labelledby="modal-default-label" style="display: none; padding-right: 16px;">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header state modal-primary">
                <button type="button" class="close" data-dismiss="   modal" aria-label="Close"><span
                        aria-hidden="true">×</span></button>
                <h4 class="modal-title" id="modal-large-label">添加岗位</h4>
            </div>
            <div class="modal-body modal-timu">
                <div class="form-group">
                    <!--岗位-->
                    <label class="control-label">请选择相应的部门及专业:</label>
                    <div id="area" class="area"></div>
                </div>
                <div class="form-group">
                    <label for="station1" class="control-label">岗位:</label>
                    <input type="text" class="form-control" id="station1">
                </div>
                <div class="form-group">
                    <!--身份-->
                    <label class="control-label">岗位备注:</label>
                    <textarea style='max-width: 568px;' class="form-control"
                              id="station2"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                        <span class="password-yanzheng pull-left warm-xinxi2"
                              style="display: none;line-height: 35px;"><i class="fa fa-info-circle fa-lg"></i>&nbsp;&nbsp;请将空白部分补充完整</span>
                <button type="button" id="station" class="btn btn-primary" data-dismiss="modal">确认添加
                </button>
                <button type="button" class="btn  btn-danger" data-dismiss="modal">关闭</button>
            </div>
        </div>
    </div>
</div>
<!-- 整体页面 -->
<div class="wrap">
    <!--顶部栏-->
    <div class="page-header">
        <div class="leftside-header">
            <div id="menu-toggle" class="visible-xs toggle-left-sidebar" data-toggle-class="left-sidebar-open"
                 data-target="html">
                <i class="fa fa-bars" aria-label="Toggle sidebar"></i>
            </div>
        </div>
        <div class="rightside-header">
            <div class="header-middle"></div>
            <!-- 红点信息 -->
            <div class="header-section">
                <a href="">你好,吴亮!</a>
            </div>
            <div class="header-separator"></div>
            <div class="header-section" style="margin-right: 50px;">
                <a href="" style='display: inline-block;transform:translatey(1px);'><i class="fa fa-sign-out log-out"
                                                                                       aria-hidden="true"></i>注销</a>
            </div>
        </div>
    </div>
    <div class="page-body">
        <!--左侧栏-->
        <div class="left-sidebar">
            <div id="left-nav" class="nano">
                <div class="nano-content" style="right: 0 !important;">
                    <nav>
                        <ul class="nav" id="main-nav">
                            <li>
                                <a href=''>
                                    <i class="fa fa-university" aria-hidden="true"></i>部门管理
                                </a>
                            </li>
                            <li>
                                <a href='course.html'>
                                    <i class="fa fa-diamond" aria-hidden="true"></i>设备管理
                                </a>
                            </li>
                            <li class="">
                                <a href=''>
                                    <i class="fa fa-book" aria-hidden="true"></i>课程管理
                                </a>
                            </li>
                            <li class="active-item">
                                <a href=''>
                                    <i class="fa fa-pie-chart" aria-hidden="true"></i>模型管理
                                </a>
                            </li>
                            <li class="">
                                <a href=''>
                                    <i class="fa fa-wrench" aria-hidden="true"></i>检修规划管理
                                </a>
                            </li>
                            <li class=" has-child-item close-item">
                                <a>
                                    <i class='fa fa-bar-chart' aria-hidden="true"></i>
                                    <span>考试管理</span>
                                </a>
                                <ul class="nav child-nav level-1">
                                    <li><a href='question-bang.html'>题库管理</a></li>
                                    <li><a href=''>试卷管理</a></li>
                                </ul>
                            </li>
                            <li class=" has-child-item close-item">
                                <a>
                                    <i class='fa fa-users' aria-hidden="true"></i>
                                    <span>员工管理</span>
                                </a>
                                <ul class="nav child-nav level-1">
                                    <li><a href=''>账号管理</a></li>
                                    <li><a href=''>所属部门</a></li>
                                    <li><a href=''>所属角色</a></li>
                                </ul>
                            </li>
                            <li class="">
                                <a href=''>
                                    <i class="fa fa-edit" aria-hidden="true"></i>PEInside管理
                                </a>
                            </li>
                            <li class="">
                                <a href=''>
                                    <i class="fa fa-list-alt" aria-hidden="true"></i>分页管理
                                </a>
                            </li>
                            <li class="">
                                <a href=''>
                                    <i class="fa fa-trash" aria-hidden="true"></i>清理临时文件
                                </a>
                            </li>
                            <li class="">
                                <a href=''>
                                    <i class="fa fa-download" aria-hidden="true"></i>软件下载
                                </a>
                            </li>
                        </ul>

                    </nav>
                </div>
            </div>
        </div>
        <!--右侧栏-->
        <div class="content content1 content2">
            <div class="content-header content-header1 margin-left-click"
                 style='height: 100%;background-color: #f3f3f4;padding: 20px;'>
                <!--主体-->
                <div class="model">
                    <div class="row animated fadeInRight" id="boxOne">
                        <div class="col-sm-12">
                            <!--模态框begin-->
                            <button type="button" class="btn btn-wide btn-primary addTo" data-toggle="modal"
                                    data-target="#lg-modal1">
                                添加模型信息
                            </button>
                            <!-- 添加课程信息 -->


                            <!--制作表格-->
                            <div class="panel">
                                <div class="panel-content">
                                    <div class="table-responsive">
                                        <table id="basic-table"
                                               class="data-table table table-striped nowrap table-hover"
                                               cellspacing="0" width="100%">
                                            <thead>
                                            <tr>
                                                <th>标识</th>
                                                <th>模型名称</th>
                                                <th>类型</th>
                                                <th>图片</th>
                                                <th>模型文件</th>
                                                <th>操作</th>
                                            </tr>
                                            </thead>
                                            <tbody class="tbodya">
                                            <!--占位符-->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <a href="#" class="scroll-to-top"><i class="fa fa-angle-double-up"></i></a>
                </div>
            </div>
        </div>
    </div>
</div>

<!--删除按钮模态框-->
<div class="modal fade" id="error-modal" tabindex="-1" role="dialog"
     aria-labelledby="modal-error-label"
     style="display: none;">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header state modal-danger">
                <button type="button" class="close" data-dismiss="modal"
                        aria-label="Close"><span
                        aria-hidden="true">×</span></button>
                <h4 class="modal-title" id="modal-error-label"><i class="fa fa-warning"></i>删除信息
                </h4>
            </div>
            <div class="modal-body">
                请您考虑清楚!确认删除此条用户信息!删除不可恢复!!!
            </div>
            <div class="modal-footer">
                <!--确认删除-->
                <button type="button" class="btn btn-danger" id="remove" data-dismiss="modal">
                    确认删除
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消删除</button>
            </div>
        </div>
    </div>
</div>

<!--修改数模态框-->
<div class="modal fade" id="info-modal" tabindex="-1" role="dialog"
     aria-labelledby="modal-info-label"
     style="display: none;">
    <div class="modal-dialog" role="document">
        <form action="" method="post" name="model_xxx" id="form02" enctype=multipart/form-data>
            <div class="modal-content">
                <div class="modal-header state modal-info">
                    <button type="button" class="close" data-dismiss="modal"
                            aria-label="Close"><span
                            aria-hidden="true">×</span></button>
                    <h4 class="modal-title" id="modal-info-label"><i class="fa fa-info"></i>模型信息修改
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="name" class="control-label">模型名称:</label>
                        <input type="text" class="form-control" id="name1" name="modelName">
                    </div>
                    <div class="form-group">
                        <label for="name" class="control-label">类型:</label>
                        <select name="type" id="type1">
                            <option value="">请选择模型类型</option>

                        </select>
                    </div>
                    <div class="form-group file_input">
                        <!--上传图片-->
                        <label class="control-label">模型图片上传:</label>

                        <input type="button" class="btn btn-wide btn-primary " value='上传图片'
                               id="file_button1"/><span class="model_changeText1"></span>
                        <div class="container-fluid">
                            <div class="row photo-box1">
                                <div class="col-xs-4 text-center"><img src="" alt=""></div>
                            </div>
                        </div>
                        <div class="inputs1">
                            <input id="files1" name="files" class="dataRz1" type="file"
                                   accept="image/*" style="display: none;">
                        </div>

                    </div>
                    <div class="form-group file_input">
                        <!--上传模型文件-->
                        <label class="control-label">模型文件:</label>
                        <input type="button" class="btn btn-wide btn-primary "
                               id="file_paper1" value="模型文件上传" style="margin-bottom: 0;"/><span
                            class="model_changeText2"></span>
                        <div class="container-fluid">

                        </div>
                        <div class="inputs">
                            <input id="paper1" name="files" class="file_paper1" type="file"
                                   accept="application/zip" style="display: none;">
                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                                            <span class="password-yanzheng pull-left warm-xinxi1"
                                                  style="line-height: 35px; display: none;"><i
                                                    class="fa fa-info-circle fa-lg"></i>&nbsp;&nbsp;请将空白部分补充完整</span>
                    <!--确认修改-->
                    <input type="button" class="btn btn-info" value="确认修改" id="qren"
                           data-dismiss="modal"/>
                    <button type="button" class="btn btn-default model_close"
                            data-dismiss="modal">关闭
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>

<!--添加模型-->
<div class="modal fade" id="lg-modal1" tabindex="-1" role="dialog"
     aria-labelledby="modal-large-label">
    <div class="modal-dialog modal-lg" role="document">
        <form method=post name="model_xx" id="form01" enctype=multipart/form-data>
            <div class="modal-content">
                <div class="modal-header state modal-primary">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span></button>
                    <h4 class="modal-title">模型信息</h4>

                </div>

                <div class="modal-body">
                    <div class="form-group">
                        <label for="name" class="control-label">模型名称:</label>
                        <input type="text" class="form-control" id="name" name="modelName">
                    </div>
                    <div class="form-group">
                        <label for="name" class="control-label">类型:</label>
                        <select name="type" id="type">
                            <option value="">请选择模型类型</option>
                        </select>
                    </div>
                    <div class="form-group file_input">
                        <!--上传图片-->
                        <label class="control-label">模型图片上传:</label>
                        <input type="button" class="btn btn-wide btn-primary "
                               id="file_button" value="上传图片" style="margin-bottom: 0;"/><span
                            class="model_changeText"></span>
                        <div class="container-fluid">
                            <div class="row photo-box">
                                <div class="col-xs-4 text-center"><img src="" alt=""></div>
                            </div>
                        </div>
                        <div class="inputs">
                            <input id="files" name="files" class="dataRz1" type="file"
                                   accept="image/*" style="display: none;">
                        </div>
                    </div>
                    <div class="form-group file_input">
                        <!--上传模型文件-->
                        <label class="control-label">模型文件:</label>
                        <input type="button" class="btn btn-wide btn-primary "
                               id="file_paper" value="模型文件上传" style="margin-bottom: 0;"/>
                        <span
                                class="file_paper"></span>
                        <div class="container-fluid">
                        </div>
                        <div class="inputs">
                            <input id="paper" name="files" class="dataRz1" type="file"
                                   accept="application/zip" style="display: none;">
                        </div>
                    </div>


                </div>
                <div class="modal-footer">
                    <span class="password-yanzheng pull-left warm-xinxi" style="line-height: 35px; display: none;"><i
                            class="fa fa-info-circle fa-lg"></i>&nbsp;&nbsp;请将空白部分补充完整</span>
                    <input type="button" class="btn btn-primary" value="确认添加"
                           data-dismiss="modal" id="addAffirm"/>
                    <button type="button" class="btn  btn-default itm_qx" data-dismiss="modal">
                        取消添加
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
<script src="javascripts/jquery.1.10.2.js"></script>
<script src="stylesheets/css/vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="stylesheets/css/vendor/nano-scroller/nano-scroller.js"></script>
<script src="javascripts/template-script.min.js"></script>
<script src="javascripts/template-init.min.js"></script>
<script src="stylesheets/css/vendor/media/js/jquery.dataTables.min.js"></script>
<script src="stylesheets/css/vendor/media/js/dataTables.bootstrap.min.js"></script>
<script src='javascripts/model.js'></script>
<script type="text/javascript" src='javascripts/sea.js'></script>
<script type="text/javascript">
    seajs.use('./javascripts/common.js', function (main) {
        var ace = new main.comm();
        //隐藏栏目
        ace.select_but.click(function () {
            $(this).parent().slideUp();
        });

        //对数据进行
        ace.select_facility.on('change', function (data) {
            var that = $(this);
            ace.ajaxGet('tables.json', function (data) {
                var dataset = that.val();
                ace.ajaxPost(url, dataset, function () {

                })
            })
        }).click(function () {
            $(this).attr('id', "error-modal55");
        })
    })
    $(function () {
        $('.big_da').click(function () {
            return false
        })
        $('.big_da > img').click(function () {
            return false
        })
        $('.click_close').on('click', function () {
            $(this).parent().css("display", "none");
        })

        $('#file_button').on('click', function () {

            var filess = $('#files').get(0);

            $('#files').bind('change', function () {
                var objUrl = getObjectURL($(this)[0].files[0]);
                $('.model_changeText').text($(this).val());

                $('.photo-box  img').attr('src', objUrl);
            })
            $('#files').click();

        })
//模型添加
        $('#file_paper').on('click', function () {

            var filess = $('#paper').get(0);

            $('#paper').bind('change', function () {
                var objUrl = getObjectURL($(this)[0].files[0]);
                $('.file_paper').text($(this).val())
            })
            $('#paper').click();

        })
//模型添加
        $('#file_paper1').on('click', function () {
            var filess = $('#paper1').get(0);

            $('#paper1').bind('change', function () {
                var objUrl = getObjectURL($(this)[0].files[0]);
                $('.model_changeText2').text($(this).val())
            })
            $('#paper1').click();

        })
        $('#file_button1').on('click', function () {

            var filess = $('#files1').get(0);

            /*要是上传了,同时将这个的id进行隐藏*/
            $('#files1').bind('change', function () {
                var objUrl = getObjectURL($(this)[0].files[0]);
                $('.model_changeText1').text($(this).val())

                $('.photo-box1  img').attr('src', objUrl)

            })
            $('#files1').click();

        })

        /*点击删除图片,并隐藏自身的隐藏域的标签*/
        $(document).on('click', '.removes', function () {
            var rz = $(this).attr('data-rz');
            $('.dataRz' + rz).remove();
            $(this).parent().remove();

        })

        /*取消添加*/
        $('.itm_qx').on('click', function () {
            $('#name').val('');
            $('select.promitt').val('');
            $('#files').val('');
            $('.warm-xinxi').hide();
            $('.photo-box img').attr('src', '');
            $('.model_changeText').text('');
            $('.file_paper').text('');
        })

        /*修改界面,关闭按钮*/
        $('.model_close').on('click', function () {
            $('.warm-xinxi1').hide();
            $('#files1').val('');
            $('.photo-box1 img').attr('src', '');
            $('.model_changeText1').text('');

        })
        /*修改信息中的图片修改*/
        $(document).on('change', '.files_change1', function () {
            var objUrl = getObjectURL(this.files[0]);
            /*修改只替换掉文件中的src*/
            $('.photo-box img').attr('src', objUrl);
        })
    })


    function getObjectURL(file) {
        var url = "";
        if (window.createObjectURL != undefined) {
            url = window.createObjectURL(file);
        } else if (window.URL != undefined) {
            url = window.URL.createObjectURL(file);
        } else if (window.webkitURL != undefined) {
            url = window.webkitURL.createObjectURL(file);
        }
        return url;
    }
</script>
</body>
</html>