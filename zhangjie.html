<!doctype html>
<html lang="en" class="fixed" style='overflow: hidden'>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>三门核电有限公司三门数字化仿真检修平台</title>
    <link rel="stylesheet" type="text/css" href="stylesheets/css/bootstrap-3.3.4.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/css/font-awesome.min.css">
    <link rel="stylesheet" href="stylesheets/css/vendor/animate.css/animate.css">
    <link rel="stylesheet" href="stylesheets/css/vendor/toastr/toastr.min.css">
    <link rel="stylesheet" href="stylesheets/css/vendor/magnific-popup/magnific-popup.css">
    <link rel="stylesheet" href="stylesheets/css/vendor/data-table/media/css/dataTables.bootstrap.min.css">
</head>
<!--[if lt IE 8]>
<script type="text/javascript" src="javascripts/html5.js"></script>
<script type="text/javascript" src="javascripts/respond.js"></script>
<![endif]-->
<style>
    .pagination {
        display: block !important;
    }
</style>
<body onselectstart="return false">

<div class="section animated fadeInRight">
    <div class="section-body clearfix">
        <!--主体结构-->
        <div class="col-sm-12">
            <table id="basic-table"
                   class="data-table table table-striped nowrap table-hover" cellspacing="0"
                   width="100%">
                <thead>
                <tr>
                    <th class="text-center">步骤</th>
                    <th class="text-center">规程</th>
                </tr>
                </thead>
                <tbody class="tbodya">
                <!--占位符-->
                </tbody>
            </table>
        </div>
    </div>
</div>
<script src="javascripts/jquery.1.10.2.js"></script>
<script src="stylesheets/css/vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="stylesheets/css/vendor/nano-scroller/nano-scroller.js"></script>
<script src="javascripts/template-script.min.js"></script>
<script src="javascripts/template-init.min.js"></script>
<script src="stylesheets/css/vendor/media/js/jquery.dataTables.min.js"></script>
<script src="stylesheets/css/vendor/media/js/dataTables.bootstrap.min.js"></script>
<script type="text/javascript">
    var hiddenProperty = 'hidden' in document ? 'hidden' :
        'webkitHidden' in document ? 'webkitHidden' :
            'mozHidden' in document ? 'mozHidden' :
                null;
    var visibilityChangeEvent = hiddenProperty.replace(/hidden/i, 'visibilitychange');
    var onVisibilityChange = function () {
        if (!document[hiddenProperty]) {
            console.log('页面激活')

        } else {
            console.log('页面非激活');

        }
    }
    window.i = 0;

    document.addEventListener(visibilityChangeEvent, onVisibilityChange);
    var datasss = [
        {
            "judge": 1,
            "step": "bbbbbbbbbbbb"
        },
        {
            "judge": 0,
            "step": "aaaaaaaaaaaa"
        }
    ]
    var table = $('.data-table').DataTable({
//        data: datasss,
        "ajax": {
            url: 'zhangjie.json',
            type: "get",
            dataSrc: function (data) {
                /*接收返回的数据值*/
                /*获取服务器返回的形式将以data的形式进行传送*/
                return data
            }
        },

        "columns": [
            {
                "data": "judge",
                "render": function (a, b, c) {
                    window.i++;
                    if (c.judge === 0) {
                        var ds = "<i class='fa fa-circle' style='color: #1ab394;margin-right: 10px;' aria-hidden='true'></i>第 " + window.i + " 步"
                    } else {
                        var ds = "<i class='fa fa-circle' style='color: #ed5565;margin-right: 10px;' aria-hidden='true'></i>第 " + window.i + " 步"
                    }
                    return ds;
                }
            },
            {
                "data": "step"
            }
        ],
        "createdRow": function (row, data, index) {
            /* 设置表格中的内容居中 */
            $('td', row).attr("class", "text-center");
            $('th', row).attr("class", "text-center");
        },
        ordering: false,
        "stateSave": true,
        iDisplayLength: 10,
        sProcessing: "正在获取数据，请稍后...",
        "retrieve": true,
        searchDelay: 350,
        "destroy": false,
        bLengthChange: false, //改变每页显示数据数量
        bInfo: true,//页脚信息
        // bAutoWidth:true,
        bFilter: false,
        "aLengthMenu": false,
        language: {
            lengthMenu: "显示 _MENU_ 条数据",
            search: '<span class="" style=" font-size: 18px;vertical-align: middle;margin-right: 5px">搜索' +
            '</span>',//右上角的搜索文本，可以写html标签
            paginate: {//分页的样式内容。
                previous: "上一页",
                next: "下一页",
                first: "第一页",
                last: "最后"
            },
            info: " <i class='fa fa-circle' style='color: #1ab394;margin-right: 10px;' aria-hidden='true'>---正确</i> <i class='fa fa-circle' style='color: #ed5565;margin-right: 10px;' aria-hidden='true'>---错误</i>", /*显示页面的数据条数*/
            zeroRecords: "<strong>暂无规程!!</strong>",//table tbody内容为空时，tbody的内容。
            //下面三者构成了总体的左下角的内容。
            infoEmpty: "0条记录",//筛选为空时左下角的显示。
            infoFiltered: ""//筛选之后的左下角筛选提示，

        },

        "fnDrawCallback": function () {
        }
    });
</script>
</body>
</html>